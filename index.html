<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>How Much Will DOGE Save You?</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
  <style>
    .tax-box {
      background: #ffffff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 15px;
    }
    .breakdown-table th, .breakdown-table td {
      padding: 6px;
      border: 1px solid #ddd;
      text-align: center;
      white-space: nowrap;
    }
    .breakdown-table th {
      background-color: #f0f0f0;
    }
    .current-cell {
      background-color: #f9f9f9;
    }
    .new-cell {
      background-color: #9ad4fd;
    }

  .bg-light-blue {
    background-color: #f9f9f9; /* Example: Light Blue */
    color: #1a2027; /* Dark Blue Text for contrast on light blue */
  }

  .bg-selected-blue {
    background-color: #9ad4fd; /* Blue */
    color: #1a2027; /* White Text for contrast on blue */
  }

  .text-dark-blue {
    color: #1a2027;
  }
</style>
</head>
<body class="bg-gray-50">
  <div class="max-w-4xl mx-auto p-6 space-y-6">
    <!-- Tax Cut Options -->	


	<div class="bg-white rounded-lg shadow p-6">
	  <h2 class="text-xl font-bold mb-4">How Much Federal Spending Will DOGE Cut?</h2>
	  <div class="grid grid-cols-3 gap-4 mb-4">
		<button onclick="setTaxCut(20)" id="btn20" class="bg-light-blue text-dark-blue px-4 py-2 rounded-lg text-xl font-bold hover:bg-blue-200">$20B</button>
		<button onclick="setTaxCut(100)" id="btn100" class="bg-selected-blue text-white px-4 py-2 rounded-lg text-xl font-bold hover:bg-blue-200">$100B</button>
		<button onclick="setTaxCut(1000)" id="btn1000" class="bg-light-blue text-dark-blue px-4 py-2 rounded-lg text-xl font-bold hover:bg-blue-200">$1T</button>
	  </div>
	  <input type="hidden" id="taxCut" value="100">
	</div>

    <!-- Input Fields -->
    <div class="bg-white rounded-lg shadow p-6">
	  <h2 class="text-xl font-bold mb-4">How Much Will You Save?</h2>
      <div class="grid grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium mb-1">Marital Status:</label>
          <select id="maritalStatus" class="w-full p-2 border rounded" oninput="calculateTaxes()">
            <option value="single">Single</option>
            <option value="married" selected>Married (Jointly)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium mb-1">Income ($):</label>
          <input type="number" id="income" value="80000" class="w-full p-2 border rounded" oninput="calculateTaxes()">
        </div>
      </div>
    </div>
	
    <!-- Tax Summary -->
    <div class="bg-white rounded-lg shadow p-6">
      <div class="grid grid-cols-2 gap-4">
        <div class="p-4 rounded current-cell">
          <h4 class="font-medium mb-2">Current Tax</h4>
          <div id="currentTax" class="text-xl"></div>
        </div>
        <div class="p-4 rounded new-cell">
          <h4 class="font-medium mb-2">New Tax (After Cut)</h4>
          <div id="newTax" class="text-xl"></div>
        </div>
      </div>
      <div class="text-center mt-4 text-xl font-medium">
        Annual Savings: $<span id="savings"></span>
      </div>
    </div>

    <!-- Tax Breakdown -->
    <div class="bg-white rounded-lg shadow p-6">
      <h2 class="text-xl font-bold mb-4">Detailed Tax Breakdown</h2>
      <div class="overflow-x-auto">
        <table class="w-full breakdown-table" id="breakdownTable"></table>
      </div>
    </div>
  </div>

  <script>
    const TAX_BRACKETS = {
      single: [
        { min: 0, max: 10275, rate: 0.10 },
        { min: 10275, max: 41775, rate: 0.12 },
        { min: 41775, max: 89075, rate: 0.22 },
        { min: 89075, max: 170050, rate: 0.24 },
        { min: 170050, max: 215950, rate: 0.32 },
        { min: 215950, max: 539900, rate: 0.35 },
        { min: 539900, max: Infinity, rate: 0.37 }
      ],
      married: [
        { min: 0, max: 20550, rate: 0.10 },
        { min: 20550, max: 83550, rate: 0.12 },
        { min: 83550, max: 178150, rate: 0.22 },
        { min: 178150, max: 340100, rate: 0.24 },
        { min: 340100, max: 431900, rate: 0.32 },
        { min: 431900, max: 647850, rate: 0.35 },
        { min: 647850, max: Infinity, rate: 0.37 }
      ]
    };

    function calculateBracketTax(income, brackets) {
      let remaining = income;
      let breakdown = [];
      let index = 1;
      
      for (const bracket of brackets) {
        if (income > bracket.min) {
          const taxable = Math.min(remaining, bracket.max - bracket.min);
          const tax = taxable * bracket.rate;
          breakdown.push({
            bracket: index,
            range: `${bracket.min.toLocaleString()} - ${bracket.max === Infinity ? 'âˆž' : bracket.max.toLocaleString()}`,
            taxable,
            rate: (bracket.rate * 100).toFixed(0) + '%',
            tax
          });
          remaining -= taxable;
          index++;
          if (remaining <= 0) break;
        }
      }
      return breakdown;
    }

    function adjustBrackets(brackets) {
      return brackets.map(b => ({
        min: b.min,
        max: b.max,
        rate: Math.max(b.rate - 0.02, 0)
      }));
    }

    function setTaxCut(amount) {
      const buttons = document.querySelectorAll('[id^="btn"]');
      buttons.forEach(button => {
        button.classList.remove('bg-selected-blue', 'text-white');
        button.classList.add('bg-light-blue', 'text-dark-blue');
      });

      let selectedButtonId = "btn" + amount;
      const clickedButton = document.getElementById(selectedButtonId);
      if (clickedButton) {
        clickedButton.classList.remove('bg-light-blue', 'text-dark-blue');
        clickedButton.classList.add('bg-selected-blue', 'text-white');
      }

      document.getElementById('taxCut').value = amount;
      calculateTaxes();
    }

    function renderBreakdownTable(currentBreakdown, newBreakdown) {
      const table = document.getElementById('breakdownTable');
      let html = `
        <thead>
          <tr>
            <th>Bracket</th>
            <th>Range</th>
            <th>Taxable</th>
            <th class="current-cell">Rate (Current)</th>
            <th class="current-cell">Tax (Current)</th>
            <th class="new-cell">Rate (New)</th>
            <th class="new-cell">Tax (New)</th>
          </tr>
        </thead>
        <tbody>
      `;

      let totalTaxable = 0;
      let totalCurrentTax = 0;
      let totalNewTax = 0;

      currentBreakdown.forEach((cur, i) => {
        const nw = newBreakdown[i] || {};
        totalTaxable += cur.taxable;
        totalCurrentTax += cur.tax;
        totalNewTax += nw.tax || 0;

        html += `
          <tr>
            <td>${cur.bracket}</td>
            <td>${cur.range}</td>
            <td>$${cur.taxable.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
            <td class="current-cell">${cur.rate}</td>
            <td class="current-cell">$${cur.tax.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
            <td class="new-cell">${nw.rate || ''}</td>
            <td class="new-cell">$${(nw.tax || 0).toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
          </tr>
        `;
      });

      html += `
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2" class="text-right font-medium">Total</td>
            <td>$${totalTaxable.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
            <td class="current-cell"></td>
            <td class="current-cell">$${totalCurrentTax.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
            <td class="new-cell"></td>
            <td class="new-cell">$${totalNewTax.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
          </tr>
        </tfoot>
      `;

      table.innerHTML = html;
      return { totalCurrentTax, totalNewTax };
    }

    function calculateTaxes() {
      const income = parseFloat(document.getElementById('income').value) || 0;
      const maritalStatus = document.getElementById('maritalStatus').value;
      const selectedBrackets = TAX_BRACKETS[maritalStatus];

      const currentBreakdown = calculateBracketTax(income, selectedBrackets);
      const newBreakdown = calculateBracketTax(income, adjustBrackets(selectedBrackets));
      
      const { totalCurrentTax, totalNewTax } = renderBreakdownTable(currentBreakdown, newBreakdown);

      document.getElementById('currentTax').textContent = 
        `$${totalCurrentTax.toLocaleString('en-US', { minimumFractionDigits: 2 })}`;
      document.getElementById('newTax').textContent = 
        `$${totalNewTax.toLocaleString('en-US', { minimumFractionDigits: 2 })}`;
      document.getElementById('savings').textContent = 
        (totalCurrentTax - totalNewTax).toLocaleString('en-US', { minimumFractionDigits: 2 });
    }

    // Initialize calculations on page load
    window.onload = calculateTaxes;
  </script>
</body>
</html>